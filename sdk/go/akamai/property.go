// *** WARNING: this file was generated by the Pulumi Terraform Bridge (tfgen) Tool. ***
// *** Do not edit by hand unless you're certain you know what you are doing! ***

package akamai

import (
	"context"
	"reflect"

	"github.com/pulumi/pulumi/sdk/v2/go/pulumi"
)

// The `Property` resource represents an Akamai property configuration.
// This resource lets you to create, update, and activate properties on the
// Akamai platform.
//
// Akamai’s edge network caches your web assets near to servers that request them.
// A property provides the main way to control how edge servers respond to various
// kinds of requests for those assets. Properties apply rules to a set of hostnames,
// and you can only apply one property at a time to any given hostname. Each property
// is assigned to a product, which determines which behaviors you can use. Each
// property’s default rule needs a valid content provider (CP) code assigned to bill
// and report for the service.
//
// > __NOTE:__ In version 0.10 and earlier of this resource, it also controlled content provider (CP) codes, origin settings, rules, and hostname associations. Starting with version 1.0.0, this logic is broken out into individual resources.
//
// ## Example Usage
//
// Basic usage:
//
// ```go
// package main
//
// import (
// 	"github.com/pulumi/pulumi-akamai/sdk/go/akamai/"
// 	"github.com/pulumi/pulumi/sdk/v2/go/pulumi"
// )
//
// func main() {
// 	pulumi.Run(func(ctx *pulumi.Context) error {
// 		_, err := akamai.NewProperty(ctx, "example", &akamai.PropertyArgs{
// 			Contacts: pulumi.StringArray{
// 				pulumi.String("user@example.org"),
// 			},
// 			ProductId:  pulumi.String("prd_SPM"),
// 			ContractId: pulumi.Any(_var.Contractid),
// 			GroupId:    pulumi.Any(_var.Groupid),
// 			Hostnames: pulumi.StringMap{
// 				"example.org":     pulumi.String("example.org.edgesuite.net"),
// 				"www.example.org": pulumi.String("example.org.edgesuite.net"),
// 				"sub.example.org": pulumi.String("sub.example.org.edgesuite.net"),
// 			},
// 			RuleFormat: pulumi.String("v2020-03-04"),
// 			Rules:      pulumi.Any(data.Akamai_property_rules_template.Example.Json),
// 		})
// 		if err != nil {
// 			return err
// 		}
// 		return nil
// 	})
// }
// ```
// ## Argument reference
//
// This resource supports these arguments:
//
// * `name` - (Required) The property name.
// * `contact` - (Required) One or more email addresses to send activation status changes to.
// * `contractId` - (Required) A contract's unique ID, including the `ctr_` prefix.
// * `groupId` - (Required) A group's unique ID, including the `grp_` prefix.
// * `productId` - (Required to create, otherwise Optional) A product's unique ID, including the `prd_` prefix.
// * `hostnames` - (Required) A mapping of public hostnames to edge hostnames. For example: `{"example.org" = "example.org.edgesuite.net"}`
// * `rules` - (Required) A JSON-encoded rule tree for a given property. For this argument, you need to enter a complete JSON rule tree, unless you set up a series of JSON templates. See the `getPropertyRules` data source.
// * `ruleFormat` - (Optional) The [rule format](https://developer.akamai.com/api/core_features/property_manager/v1.html#getruleformats) to use. Uses the latest rule format by default.
// * `contract` - (Deprecated) Replaced by `contractId`. Maintained for legacy purposes.
// * `group` - (Deprecated) Replaced by `groupId`. Maintained for legacy purposes.
// * `product` - (Deprecated) Optional argument replaced by the now required `productId`. Maintained for legacy purposes.
//
// ## Attribute reference
//
// The resource returns these attributes:
//
// * `warnings` - The contents of `warnings` field returned by the API. For more information see [Errors](https://developer.akamai.com/api/core_features/property_manager/v1.html#errors) in the PAPI documentation.
// * `errors` - The contents of `errors` field returned by the API. For more information see [Errors](https://developer.akamai.com/api/core_features/property_manager/v1.html#errors) in the PAPI documentation.
// * `latestVersion` - The version of the property you've created or updated rules for. The Akamai Provider always uses the latest version or creates a new version if latest is not editable.
// * `productionVersion` - The current version of the property active on the Akamai production network.
// * `stagingVersion` - The current version of the property active on the Akamai staging network.
//
// ## Import
//
// Basic Usagehcl resource "akamai_property" "example" {
//
// # (resource arguments)
//
//  } You can import Akamai properties using either the `property_id` or a comma-delimited
//
// string of the property, contract, and group IDs. You'll need to enter the string of IDs if the property belongs to multiple groups or contracts. If using the string of IDs, you need to enter them in this order`property_id,contract_id,group_id` Here are some examples
//
// ```sh
//  $ pulumi import akamai:index/property:Property example prp_123
// ```
//
//  Or
//
// ```sh
//  $ pulumi import akamai:index/property:Property example prp_123,ctr_1-AB123,grp_123
// ```
type Property struct {
	pulumi.CustomResourceState

	// Deprecated: "contact" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Contacts pulumi.StringArrayOutput `pulumi:"contacts"`
	// Deprecated: use "contract_id" attribute instead
	Contract pulumi.StringOutput `pulumi:"contract"`
	// Contract ID to be assigned to the Property
	ContractId pulumi.StringOutput `pulumi:"contractId"`
	// Deprecated: "cp_code" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	CpCode pulumi.StringPtrOutput `pulumi:"cpCode"`
	// Deprecated: use "group_id" attribute instead
	Group pulumi.StringOutput `pulumi:"group"`
	// Group ID to be assigned to the Property
	GroupId pulumi.StringOutput `pulumi:"groupId"`
	// Mapping of edge hostname CNAMEs to other CNAMEs
	Hostnames pulumi.StringMapOutput `pulumi:"hostnames"`
	// Deprecated: "is_secure" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	IsSecure pulumi.BoolPtrOutput `pulumi:"isSecure"`
	// Property's current latest version number
	LatestVersion pulumi.IntOutput `pulumi:"latestVersion"`
	// Name to give to the Property (must be unique)
	Name pulumi.StringOutput `pulumi:"name"`
	// Deprecated: "origin" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Origins PropertyOriginArrayOutput `pulumi:"origins"`
	// Deprecated: use "product_id" attribute instead
	Product pulumi.StringOutput `pulumi:"product"`
	// Product ID to be assigned to the Property
	ProductId pulumi.StringOutput `pulumi:"productId"`
	// Property's version currently activated in production (zero when not active in production)
	ProductionVersion pulumi.IntOutput             `pulumi:"productionVersion"`
	RuleErrors        PropertyRuleErrorArrayOutput `pulumi:"ruleErrors"`
	// Specify the rule format version (defaults to latest version available when created)
	RuleFormat   pulumi.StringOutput            `pulumi:"ruleFormat"`
	RuleWarnings PropertyRuleWarningArrayOutput `pulumi:"ruleWarnings"`
	// Property Rules as JSON
	Rules pulumi.StringOutput `pulumi:"rules"`
	// Property's version currently activated in staging (zero when not active in staging)
	StagingVersion pulumi.IntOutput `pulumi:"stagingVersion"`
	// Deprecated: "variables" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Variables pulumi.StringPtrOutput `pulumi:"variables"`
}

// NewProperty registers a new resource with the given unique name, arguments, and options.
func NewProperty(ctx *pulumi.Context,
	name string, args *PropertyArgs, opts ...pulumi.ResourceOption) (*Property, error) {
	if args == nil {
		args = &PropertyArgs{}
	}

	aliases := pulumi.Aliases([]pulumi.Alias{
		{
			Type: pulumi.String("akamai:properties/property:Property"),
		},
	})
	opts = append(opts, aliases)
	var resource Property
	err := ctx.RegisterResource("akamai:index/property:Property", name, args, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// GetProperty gets an existing Property resource's state with the given name, ID, and optional
// state properties that are used to uniquely qualify the lookup (nil if not required).
func GetProperty(ctx *pulumi.Context,
	name string, id pulumi.IDInput, state *PropertyState, opts ...pulumi.ResourceOption) (*Property, error) {
	var resource Property
	err := ctx.ReadResource("akamai:index/property:Property", name, id, state, &resource, opts...)
	if err != nil {
		return nil, err
	}
	return &resource, nil
}

// Input properties used for looking up and filtering Property resources.
type propertyState struct {
	// Deprecated: "contact" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Contacts []string `pulumi:"contacts"`
	// Deprecated: use "contract_id" attribute instead
	Contract *string `pulumi:"contract"`
	// Contract ID to be assigned to the Property
	ContractId *string `pulumi:"contractId"`
	// Deprecated: "cp_code" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	CpCode *string `pulumi:"cpCode"`
	// Deprecated: use "group_id" attribute instead
	Group *string `pulumi:"group"`
	// Group ID to be assigned to the Property
	GroupId *string `pulumi:"groupId"`
	// Mapping of edge hostname CNAMEs to other CNAMEs
	Hostnames map[string]string `pulumi:"hostnames"`
	// Deprecated: "is_secure" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	IsSecure *bool `pulumi:"isSecure"`
	// Property's current latest version number
	LatestVersion *int `pulumi:"latestVersion"`
	// Name to give to the Property (must be unique)
	Name *string `pulumi:"name"`
	// Deprecated: "origin" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Origins []PropertyOrigin `pulumi:"origins"`
	// Deprecated: use "product_id" attribute instead
	Product *string `pulumi:"product"`
	// Product ID to be assigned to the Property
	ProductId *string `pulumi:"productId"`
	// Property's version currently activated in production (zero when not active in production)
	ProductionVersion *int                `pulumi:"productionVersion"`
	RuleErrors        []PropertyRuleError `pulumi:"ruleErrors"`
	// Specify the rule format version (defaults to latest version available when created)
	RuleFormat   *string               `pulumi:"ruleFormat"`
	RuleWarnings []PropertyRuleWarning `pulumi:"ruleWarnings"`
	// Property Rules as JSON
	Rules *string `pulumi:"rules"`
	// Property's version currently activated in staging (zero when not active in staging)
	StagingVersion *int `pulumi:"stagingVersion"`
	// Deprecated: "variables" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Variables *string `pulumi:"variables"`
}

type PropertyState struct {
	// Deprecated: "contact" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Contacts pulumi.StringArrayInput
	// Deprecated: use "contract_id" attribute instead
	Contract pulumi.StringPtrInput
	// Contract ID to be assigned to the Property
	ContractId pulumi.StringPtrInput
	// Deprecated: "cp_code" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	CpCode pulumi.StringPtrInput
	// Deprecated: use "group_id" attribute instead
	Group pulumi.StringPtrInput
	// Group ID to be assigned to the Property
	GroupId pulumi.StringPtrInput
	// Mapping of edge hostname CNAMEs to other CNAMEs
	Hostnames pulumi.StringMapInput
	// Deprecated: "is_secure" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	IsSecure pulumi.BoolPtrInput
	// Property's current latest version number
	LatestVersion pulumi.IntPtrInput
	// Name to give to the Property (must be unique)
	Name pulumi.StringPtrInput
	// Deprecated: "origin" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Origins PropertyOriginArrayInput
	// Deprecated: use "product_id" attribute instead
	Product pulumi.StringPtrInput
	// Product ID to be assigned to the Property
	ProductId pulumi.StringPtrInput
	// Property's version currently activated in production (zero when not active in production)
	ProductionVersion pulumi.IntPtrInput
	RuleErrors        PropertyRuleErrorArrayInput
	// Specify the rule format version (defaults to latest version available when created)
	RuleFormat   pulumi.StringPtrInput
	RuleWarnings PropertyRuleWarningArrayInput
	// Property Rules as JSON
	Rules pulumi.StringPtrInput
	// Property's version currently activated in staging (zero when not active in staging)
	StagingVersion pulumi.IntPtrInput
	// Deprecated: "variables" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Variables pulumi.StringPtrInput
}

func (PropertyState) ElementType() reflect.Type {
	return reflect.TypeOf((*propertyState)(nil)).Elem()
}

type propertyArgs struct {
	// Deprecated: "contact" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Contacts []string `pulumi:"contacts"`
	// Deprecated: use "contract_id" attribute instead
	Contract *string `pulumi:"contract"`
	// Contract ID to be assigned to the Property
	ContractId *string `pulumi:"contractId"`
	// Deprecated: "cp_code" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	CpCode *string `pulumi:"cpCode"`
	// Deprecated: use "group_id" attribute instead
	Group *string `pulumi:"group"`
	// Group ID to be assigned to the Property
	GroupId *string `pulumi:"groupId"`
	// Mapping of edge hostname CNAMEs to other CNAMEs
	Hostnames map[string]string `pulumi:"hostnames"`
	// Deprecated: "is_secure" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	IsSecure *bool `pulumi:"isSecure"`
	// Name to give to the Property (must be unique)
	Name *string `pulumi:"name"`
	// Deprecated: "origin" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Origins []PropertyOrigin `pulumi:"origins"`
	// Deprecated: use "product_id" attribute instead
	Product *string `pulumi:"product"`
	// Product ID to be assigned to the Property
	ProductId *string `pulumi:"productId"`
	// Specify the rule format version (defaults to latest version available when created)
	RuleFormat *string `pulumi:"ruleFormat"`
	// Property Rules as JSON
	Rules *string `pulumi:"rules"`
	// Deprecated: "variables" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Variables *string `pulumi:"variables"`
}

// The set of arguments for constructing a Property resource.
type PropertyArgs struct {
	// Deprecated: "contact" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Contacts pulumi.StringArrayInput
	// Deprecated: use "contract_id" attribute instead
	Contract pulumi.StringPtrInput
	// Contract ID to be assigned to the Property
	ContractId pulumi.StringPtrInput
	// Deprecated: "cp_code" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	CpCode pulumi.StringPtrInput
	// Deprecated: use "group_id" attribute instead
	Group pulumi.StringPtrInput
	// Group ID to be assigned to the Property
	GroupId pulumi.StringPtrInput
	// Mapping of edge hostname CNAMEs to other CNAMEs
	Hostnames pulumi.StringMapInput
	// Deprecated: "is_secure" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	IsSecure pulumi.BoolPtrInput
	// Name to give to the Property (must be unique)
	Name pulumi.StringPtrInput
	// Deprecated: "origin" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Origins PropertyOriginArrayInput
	// Deprecated: use "product_id" attribute instead
	Product pulumi.StringPtrInput
	// Product ID to be assigned to the Property
	ProductId pulumi.StringPtrInput
	// Specify the rule format version (defaults to latest version available when created)
	RuleFormat pulumi.StringPtrInput
	// Property Rules as JSON
	Rules pulumi.StringPtrInput
	// Deprecated: "variables" is no longer supported by this resource type - See Akamai Terraform Upgrade Guide
	Variables pulumi.StringPtrInput
}

func (PropertyArgs) ElementType() reflect.Type {
	return reflect.TypeOf((*propertyArgs)(nil)).Elem()
}

type PropertyInput interface {
	pulumi.Input

	ToPropertyOutput() PropertyOutput
	ToPropertyOutputWithContext(ctx context.Context) PropertyOutput
}

func (*Property) ElementType() reflect.Type {
	return reflect.TypeOf((*Property)(nil))
}

func (i *Property) ToPropertyOutput() PropertyOutput {
	return i.ToPropertyOutputWithContext(context.Background())
}

func (i *Property) ToPropertyOutputWithContext(ctx context.Context) PropertyOutput {
	return pulumi.ToOutputWithContext(ctx, i).(PropertyOutput)
}

type PropertyOutput struct {
	*pulumi.OutputState
}

func (PropertyOutput) ElementType() reflect.Type {
	return reflect.TypeOf((*Property)(nil))
}

func (o PropertyOutput) ToPropertyOutput() PropertyOutput {
	return o
}

func (o PropertyOutput) ToPropertyOutputWithContext(ctx context.Context) PropertyOutput {
	return o
}

func init() {
	pulumi.RegisterOutputType(PropertyOutput{})
}
